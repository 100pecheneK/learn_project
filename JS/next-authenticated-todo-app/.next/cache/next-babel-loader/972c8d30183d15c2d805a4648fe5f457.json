{"ast":null,"code":"import { table, getMinifiedRecord } from './utils/Airtable';\nimport auth0 from './utils/auth0';\nexport default auth0.requireAuthentication(async (req, res) => {\n  const {\n    user\n  } = await auth0.getsession(req);\n  const {\n    id\n  } = req.body;\n\n  try {\n    const deletedRecords = await table.destroy([id]);\n    return res.json(getMinifiedRecord(deletedRecords[0]));\n  } catch (e) {\n    console.log(e);\n    return res.status(500).json({\n      mgs: 'Somethig went wrong'\n    });\n  }\n});","map":{"version":3,"sources":["/Users/misha/Desktop/nextblog/todo/pages/api/deleteTodo.js"],"names":["table","getMinifiedRecord","auth0","requireAuthentication","req","res","user","getsession","id","body","deletedRecords","destroy","json","e","console","log","status","mgs"],"mappings":"AAAA,SAASA,KAAT,EAAgBC,iBAAhB,QAAyC,kBAAzC;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAEA,eAAeA,KAAK,CAACC,qBAAN,CAA4B,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC7D,QAAM;AAAEC,IAAAA;AAAF,MAAW,MAAMJ,KAAK,CAACK,UAAN,CAAiBH,GAAjB,CAAvB;AAEA,QAAM;AAAEI,IAAAA;AAAF,MAASJ,GAAG,CAACK,IAAnB;;AACA,MAAI;AACF,UAAMC,cAAc,GAAG,MAAMV,KAAK,CAACW,OAAN,CAAc,CAACH,EAAD,CAAd,CAA7B;AACA,WAAOH,GAAG,CAACO,IAAJ,CAASX,iBAAiB,CAACS,cAAc,CAAC,CAAD,CAAf,CAA1B,CAAP;AACD,GAHD,CAGE,OAAOG,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,WAAOR,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CAAqB;AAAEK,MAAAA,GAAG,EAAE;AAAP,KAArB,CAAP;AACD;AACF,CAXc,CAAf","sourcesContent":["import { table, getMinifiedRecord } from './utils/Airtable'\nimport auth0 from './utils/auth0'\n\nexport default auth0.requireAuthentication(async (req, res) => {\n  const { user } = await auth0.getsession(req)\n\n  const { id } = req.body\n  try {\n    const deletedRecords = await table.destroy([id])\n    return res.json(getMinifiedRecord(deletedRecords[0]))\n  } catch (e) {\n    console.log(e)\n    return res.status(500).json({ mgs: 'Somethig went wrong' })\n  }\n})\n"]},"metadata":{},"sourceType":"module"}