{"ast":null,"code":"var Airtable = require('airtable');\n\nvar base = new Airtable({\n  apiKey: process.env.AIRTABLE_API_KEY\n}).base(process.env.AIRTABLE_BASE_ID);\nvar table = base(process.env.AIRTABLE_TABLE_NAME);\n\nvar getMinifiedRecord = function getMinifiedRecord(record) {\n  var _record$fields;\n\n  if (!((_record$fields = record.fields) === null || _record$fields === void 0 ? void 0 : _record$fields.completed)) {\n    record.fields.completed = false;\n  }\n\n  return {\n    id: record.id,\n    fields: record.fields\n  };\n};\n\nvar getMinifiedRecords = function getMinifiedRecords(records) {\n  return records.map(getMinifiedRecord);\n};\n\nexport { table, getMinifiedRecords, getMinifiedRecord };","map":{"version":3,"sources":["/Users/misha/Desktop/nextblog/todo/pages/api/utils/Airtable.js"],"names":["Airtable","require","base","apiKey","process","env","AIRTABLE_API_KEY","AIRTABLE_BASE_ID","table","AIRTABLE_TABLE_NAME","getMinifiedRecord","record","fields","completed","id","getMinifiedRecords","records","map"],"mappings":"AAAA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,IAAMC,IAAI,GAAG,IAAIF,QAAJ,CAAa;AAAEG,EAAAA,MAAM,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAAtB,CAAb,EAAuDJ,IAAvD,CACXE,OAAO,CAACC,GAAR,CAAYE,gBADD,CAAb;AAIA,IAAMC,KAAK,GAAGN,IAAI,CAACE,OAAO,CAACC,GAAR,CAAYI,mBAAb,CAAlB;;AAEA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,MAAM,EAAI;AAAA;;AAClC,MAAI,oBAACA,MAAM,CAACC,MAAR,mDAAC,eAAeC,SAAhB,CAAJ,EAA+B;AAC7BF,IAAAA,MAAM,CAACC,MAAP,CAAcC,SAAd,GAA0B,KAA1B;AACD;;AACD,SAAO;AACLC,IAAAA,EAAE,EAAEH,MAAM,CAACG,EADN;AAELF,IAAAA,MAAM,EAAED,MAAM,CAACC;AAFV,GAAP;AAID,CARD;;AAUA,IAAMG,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,OAAO,EAAI;AACpC,SAAOA,OAAO,CAACC,GAAR,CAAYP,iBAAZ,CAAP;AACD,CAFD;;AAIA,SAASF,KAAT,EAAgBO,kBAAhB,EAAoCL,iBAApC","sourcesContent":["const Airtable = require('airtable')\nconst base = new Airtable({ apiKey: process.env.AIRTABLE_API_KEY }).base(\n  process.env.AIRTABLE_BASE_ID\n)\n\nconst table = base(process.env.AIRTABLE_TABLE_NAME)\n\nconst getMinifiedRecord = record => {\n  if (!record.fields?.completed) {\n    record.fields.completed = false\n  }\n  return {\n    id: record.id,\n    fields: record.fields,\n  }\n}\n\nconst getMinifiedRecords = records => {\n  return records.map(getMinifiedRecord)\n}\n\nexport { table, getMinifiedRecords, getMinifiedRecord }\n"]},"metadata":{},"sourceType":"module"}