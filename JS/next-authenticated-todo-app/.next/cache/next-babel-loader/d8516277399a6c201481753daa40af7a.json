{"ast":null,"code":"import ownsRecord from './middleware/OwnsRecord';\nimport database from './utils/Database';\nexport default ownsRecord(async (req, res) => {\n  const {\n    id\n  } = req.body;\n\n  try {\n    const deletedRecord = await database.deleteOne({\n      id\n    });\n    return res.json(deletedRecord);\n  } catch (e) {\n    console.log(e);\n    return res.status(500).json({\n      mgs: 'Somethig went wrong'\n    });\n  }\n});","map":{"version":3,"sources":["/Users/misha/Documents/learn_project/JS/next-authenticated-todo-app/pages/api/deleteTodo.js"],"names":["ownsRecord","database","req","res","id","body","deletedRecord","deleteOne","json","e","console","log","status","mgs"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,yBAAvB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AAEA,eAAeD,UAAU,CAAC,OAAOE,GAAP,EAAYC,GAAZ,KAAoB;AAE5C,QAAM;AAAEC,IAAAA;AAAF,MAASF,GAAG,CAACG,IAAnB;;AACA,MAAI;AACF,UAAMC,aAAa,GAAG,MAAML,QAAQ,CAACM,SAAT,CAAmB;AAAEH,MAAAA;AAAF,KAAnB,CAA5B;AACA,WAAOD,GAAG,CAACK,IAAJ,CAASF,aAAT,CAAP;AACD,GAHD,CAGE,OAAOG,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,WAAON,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CAAqB;AAAEK,MAAAA,GAAG,EAAE;AAAP,KAArB,CAAP;AACD;AACF,CAVwB,CAAzB","sourcesContent":["import ownsRecord from './middleware/OwnsRecord'\nimport database from './utils/Database'\n\nexport default ownsRecord(async (req, res) => {\n\n  const { id } = req.body\n  try {\n    const deletedRecord = await database.deleteOne({ id })\n    return res.json(deletedRecord)\n  } catch (e) {\n    console.log(e)\n    return res.status(500).json({ mgs: 'Somethig went wrong' })\n  }\n})\n"]},"metadata":{},"sourceType":"module"}