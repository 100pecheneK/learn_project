{"ast":null,"code":"import database from './utils/Database';\nimport auth0 from './utils/auth0';\nexport default (async (req, res) => {\n  const {\n    user\n  } = await auth0.getSession(req);\n\n  try {\n    let records = await database.getAll({\n      filter: {\n        field: 'userId',\n        value: user.sub\n      }\n    });\n    const minifiedRecords = [{\n      id: '1',\n      fields: {\n        description: 'aaa'\n      }\n    }];\n    return res.json(minifiedRecords);\n  } catch (e) {\n    console.log(e);\n    return res.status(500).json({\n      mgs: 'Somethig went wrong'\n    });\n  }\n});","map":{"version":3,"sources":["/Users/misha/Documents/learn_project/JS/next-authenticated-todo-app/pages/api/getTodos.js"],"names":["database","auth0","req","res","user","getSession","records","getAll","filter","field","value","sub","minifiedRecords","id","fields","description","json","e","console","log","status","mgs"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAM;AAAEC,IAAAA;AAAF,MAAW,MAAMH,KAAK,CAACI,UAAN,CAAiBH,GAAjB,CAAvB;;AAEA,MAAI;AACF,QAAII,OAAO,GAAG,MAAMN,QAAQ,CAACO,MAAT,CAAgB;AAClCC,MAAAA,MAAM,EAAE;AAAEC,QAAAA,KAAK,EAAE,QAAT;AAAmBC,QAAAA,KAAK,EAAEN,IAAI,CAACO;AAA/B;AAD0B,KAAhB,CAApB;AAGA,UAAMC,eAAe,GAAG,CAAC;AAAEC,MAAAA,EAAE,EAAE,GAAN;AAAWC,MAAAA,MAAM,EAAE;AAAEC,QAAAA,WAAW,EAAE;AAAf;AAAnB,KAAD,CAAxB;AACA,WAAOZ,GAAG,CAACa,IAAJ,CAASJ,eAAT,CAAP;AACD,GAND,CAME,OAAOK,CAAP,EAAU;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,WAAOd,GAAG,CAACiB,MAAJ,CAAW,GAAX,EAAgBJ,IAAhB,CAAqB;AAAEK,MAAAA,GAAG,EAAE;AAAP,KAArB,CAAP;AACD;AACF,CAbD","sourcesContent":["import database from './utils/Database'\nimport auth0 from './utils/auth0'\n\nexport default async (req, res) => {\n  const { user } = await auth0.getSession(req)\n\n  try {\n    let records = await database.getAll({\n      filter: { field: 'userId', value: user.sub },\n    })\n    const minifiedRecords = [{ id: '1', fields: { description: 'aaa' } }]\n    return res.json(minifiedRecords)\n  } catch (e) {\n    console.log(e)\n    return res.status(500).json({ mgs: 'Somethig went wrong' })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}