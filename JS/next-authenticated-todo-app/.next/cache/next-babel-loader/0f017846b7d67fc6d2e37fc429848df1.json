{"ast":null,"code":"import database from './utils/Database';\nimport auth0 from './utils/auth0';\nexport default auth0.requireAuthentication(async (req, res) => {\n  const {\n    description\n  } = req.body;\n  const {\n    user\n  } = await auth0.getSession(req);\n\n  try {\n    // const records = await database.createOne()\n    // console.log(records)\n    const createdRecord = await database.createOne({\n      fields: {\n        description,\n        userId: user.sub\n      }\n    });\n    console.log('createdRecord');\n    console.log(createdRecord);\n    return res.json({\n      id: '5fb39ddd5c4235198fcaa629',\n      fields: {\n        completed: false,\n        description: 'asd',\n        userId: 'google-oauth2|101278695265800067913'\n      }\n    });\n  } catch (e) {\n    console.log('error');\n    console.error(e);\n    return res.status(500).json({\n      mgs: 'Somethig went wrong'\n    });\n  }\n});","map":{"version":3,"sources":["/Users/misha/Documents/learn_project/JS/next-authenticated-todo-app/pages/api/createTodo.js"],"names":["database","auth0","requireAuthentication","req","res","description","body","user","getSession","createdRecord","createOne","fields","userId","sub","console","log","json","id","completed","e","error","status","mgs"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAEA,eAAeA,KAAK,CAACC,qBAAN,CAA4B,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC7D,QAAM;AAAEC,IAAAA;AAAF,MAAkBF,GAAG,CAACG,IAA5B;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAW,MAAMN,KAAK,CAACO,UAAN,CAAiBL,GAAjB,CAAvB;;AAEA,MAAI;AACF;AACA;AACA,UAAMM,aAAa,GAAG,MAAMT,QAAQ,CAACU,SAAT,CAAmB;AAC/CC,MAAAA,MAAM,EAAE;AACJN,QAAAA,WADI;AAEJO,QAAAA,MAAM,EAAEL,IAAI,CAACM;AAFT;AADuC,KAAnB,CAA5B;AAMAC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYN,aAAZ;AACA,WAAOL,GAAG,CAACY,IAAJ,CAAS;AACdC,MAAAA,EAAE,EAAE,0BADU;AAEdN,MAAAA,MAAM,EAAE;AACNO,QAAAA,SAAS,EAAE,KADL;AAENb,QAAAA,WAAW,EAAE,KAFP;AAGNO,QAAAA,MAAM,EAAE;AAHF;AAFM,KAAT,CAAP;AAQD,GAnBD,CAmBE,OAAOO,CAAP,EAAU;AACVL,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAD,IAAAA,OAAO,CAACM,KAAR,CAAcD,CAAd;AACA,WAAOf,GAAG,CAACiB,MAAJ,CAAW,GAAX,EAAgBL,IAAhB,CAAqB;AAAEM,MAAAA,GAAG,EAAE;AAAP,KAArB,CAAP;AACD;AACF,CA5Bc,CAAf","sourcesContent":["import database from './utils/Database'\nimport auth0 from './utils/auth0'\n\nexport default auth0.requireAuthentication(async (req, res) => {\n  const { description } = req.body\n  const { user } = await auth0.getSession(req)\n\n  try {\n    // const records = await database.createOne()\n    // console.log(records)\n    const createdRecord = await database.createOne({\n    fields: {\n        description,\n        userId: user.sub,\n      },\n    })\n    console.log('createdRecord')\n    console.log(createdRecord)\n    return res.json({\n      id: '5fb39ddd5c4235198fcaa629',\n      fields: {\n        completed: false,\n        description: 'asd',\n        userId: 'google-oauth2|101278695265800067913',\n      },\n    })\n  } catch (e) {\n    console.log('error')\n    console.error(e)\n    return res.status(500).json({ mgs: 'Somethig went wrong' })\n  }\n})\n"]},"metadata":{},"sourceType":"module"}